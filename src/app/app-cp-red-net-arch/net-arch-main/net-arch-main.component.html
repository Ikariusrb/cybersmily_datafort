<style tyhpe="text/css">

</style>
<div class="container">
  <div class="row">
    <div class="col-12">
      <h3>NET Architecture Generator for Cyberpunk Red</h3>
    </div>
  </div>
  <hr>
  <div class="row hidden-print">
    <div class="col-6">
      <fa-icon class="csd-dice csd-menu-btn csd-btn btn-lg float-left" [icon]="faDice" (click)="generate()"
        title="Generate random Net Architect"></fa-icon>
      <span>
        <input type="checkbox" [(ngModel)]="randomDifficulty">
        <span [ngClass]="{'net-arch-disable':randomDifficulty}" >
          - Difficulty:
          <select [(ngModel)]="netArchService.difficulty" [disabled]='randomDifficulty'>
            <option [ngValue]="0">Basic</option>
            <option [ngValue]="1">Standard</option>
            <option [ngValue]="2">Uncommon</option>
            <option [ngValue]="3">Advanced</option>
          </select>
        </span>
        <br>
        <input type="checkbox" [(ngModel)]="randomFloors">
        <span [ngClass]="{'net-arch-disable':randomFloors}">
          - Floors: <input type="number" min="3" max="18"
            [(ngModel)]="numOfFloors" [disabled]="randomFloors">
        </span>
      </span>
    </div>
    <div class="col-6">
      <fa-icon class="csd-menu-btn btn-lg csd-btn float-right" [icon]="faImage" title="Save as a SVG image file"
        (click)="saveSVG()"></fa-icon>
      <input type="file" id="loadFile" title="load a Net Architect .json file" name="Load" Style="display: none"
        (change)="load($event)" #inputFile (click)="inputFile.value = null" accept="text/plain;text/json" />
      <label for="loadFile" class="csd-menu-btn csd-btn btn-lg float-right">
        <fa-icon [icon]="faUpload" title="load a Net Architect .json file"></fa-icon>
      </label>
      <fa-icon class="csd-menu-btn csd-btn btn-lg float-right" [icon]="faSave" (click)="save()"
        title="Save Net Architect as json file"></fa-icon>
      <fa-icon class="csd-menu-btn btn-lg csd-btn float-right" [icon]="faQuestionCircle" title="Show instructions."
        (click)="openModal(instructions)"></fa-icon>
    </div>
  </div>
  <br>
  <div class="row" *ngIf="arch">
    <div class="col-12 col-lg-8 csd-rounded csd-print">
      <br>
      <cs-net-arch-diagram [arch]="arch" (updateSVG)="updateSVG($event)"></cs-net-arch-diagram>
      <br>
      <br>
    </div>
    <div class="col-12 col-lg-4 csd-rounded csd-print csd-linebreak">
      <br>
      <div *ngFor="let arr of archArray;let i = index" class="row">
        <div class="col">
          <div *ngIf="arr && arr.length > 0" class="row">
            <div class="col">
              Floor {{i + 1}}:
            </div>
          </div>
          <cs-net-arch-node *ngFor="let node of arr" [node]="node" (updateNode)="updateArch($event)"></cs-net-arch-node>
        </div>
      </div>
    </div>
  </div>
</div>

<ng-template #instructions>
  <div class="modal-header">
    <h4>NET ARCHITECT GENERATOR INSTRUCTIONS</h4>
    <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <cs-net-arch-instructions></cs-net-arch-instructions>
  </div>
</ng-template>
