<div class="container chargen-section chargen-border">
  <div class="cp2020-label row">
    <div class="col">
      <h4>LIFEPATH</h4>
    </div>
  </div>
  <div class="hidden-print row">
    <div class="col">
      <fa-icon [icon]="faDice" class="chargen-lifepath-dice" (click)="roll()" title="Randomly generate lifepath">
      </fa-icon>
      <select [(ngModel)]="selectedSource">
        <option value="?" selected="selected"></option>
        <option *ngFor="let opt of sources" value="{{opt.value}}">{{opt.title}}</option>
      </select>
      <input class="chargen-always-event" type="checkbox"
        title="check if you want to have an event for each year of Life Events"> always an event
      <input [(ngModel)]="years" class="chargen-years-event text-center" type="number" min="0" max="12"
        title="Enter the number of years to roll, 0-12. 0 will be randomly determined." (change)="changeYear()"> years
    </div>
  </div>
  <div class="row">
    <div class="col-12 col-lg-6">
      <!-- STYLE -->
      <div class="row pb-2">
        <div class="col">
          <div class="chargen-label d-block" style="width: 70px">Style</div>
          <div class="chargen-lifepath-attr">Clothes <input [(ngModel)]="lifepath.appearance.clothes"
              (change)="onChangeLifePath()" type="text" class="pull-right" /></div>
          <div class="chargen-lifepath-attr">Hair <input [(ngModel)]="lifepath.appearance.hairstyle"
              (change)="onChangeLifePath()" type="text" class="pull-right" /></div>
          <div class="chargen-lifepath-attr">Affectations <input [(ngModel)]="lifepath.appearance.affectations"
              (change)="onChangeLifePath()" type="text" class="pull-right" /></div>
          <div class="chargen-lifepath-attr">Ethnicity <input [(ngModel)]="lifepath.ethnicity.name"
              (change)="onChangeLifePath()" type="text" class="pull-right" /></div>
          <div class="chargen-lifepath-attr">Language <input [(ngModel)]="lifepath.ethnicity.language"
              (change)="onChangeLifePath()" type="text" class="pull-right" /></div>
        </div>
      </div>
      <!-- MOTIVATIONS -->
      <div class="row">
        <div class="col">
          <div class="chargen-label d-block" style="width: 110px">Motivations</div>
          <div class="chargen-lifepath-attr">Traits <input [(ngModel)]="lifepath.motivations.personality"
              (change)="onChangeLifePath()" type="text" class="pull-right" /></div>
          <div class="chargen-lifepath-attr">Valued Person <input [(ngModel)]="lifepath.motivations.valuedperson"
              (change)="onChangeLifePath()" type="text" class="pull-right" /></div>
          <div class="chargen-lifepath-attr">Value Most <input [(ngModel)]="lifepath.motivations.valuemost"
              (change)="onChangeLifePath()" type="text" class="pull-right" /></div>
          <div class="chargen-lifepath-attr">Feel About People <input [(ngModel)]="lifepath.motivations.feelaboutpeople"
              (change)="onChangeLifePath()" type="text" class="pull-right" /></div>
          <div class="chargen-lifepath-attr">Valued Possesion <input [(ngModel)]="lifepath.motivations.valuedpossession"
              (change)="onChangeLifePath()" type="text" class="pull-right" /></div>
        </div>
      </div>
      <!-- FAMILY-->
      <div class="row">
        <div class="col">
          <div class="chargen-label d-block" style="width: 180px">Family Background</div>
          <textarea [(ngModel)]="lifepath.family.familyBackground" (change)="onChangeLifePath()"
            class="chargen-lifepath-family"></textarea>
        </div>
      </div>
      <div class="row">
        <div class="col">
            <span class="chargen-label">#Siblings</span>
            <span class="chargen-sibling" *ngIf="brothers > 0">
              <span>{{brothers}}</span>
              <fa-icon [icon]="faMars" style="font-size:20px;" class="ml-2"></fa-icon>
            </span>
            <span class="chargen-sibling" *ngIf="sisters > 0">
              <span>{{sisters}}</span>
              <fa-icon [icon]="faVenus" style="font-size:20px;" class="ml-2"></fa-icon>
            </span>
            <span class="chargen-sibling" *ngIf="sibs > 0">
              <span>{{sibs}}</span>
              <fa-icon [icon]="faGenderless" style="font-size:20px;" class="ml-2"></fa-icon>
            </span>
          </div>
      </div>
      <div class="row" *ngFor="let sib of siblings">
        <div class="col-4 pt-1">
          <input type="text" [(ngModel)]="sib.name" (change)="onChangeLifePath()">
        </div>
        <div class="col-8 pt-1">
          <div class="row">
            <div class="col">
              <select [(ngModel)]="sib.gender" (change)="onChangeLifePath()">
                <option value="brother">Brother</option>
                <option value="sister">Sister</option>
                <option value="sib">Sib</option>
              </select>
            </div>
            <div class="col">
              <select [(ngModel)]="sib.age" (change)="onChangeLifePath()">
                <option value="older">Older</option>
                <option value="younger">Younger</option>
                <option value="same">Twin</option>
              </select>
            </div>
          </div>
          <div class="row mb-2 pt-1">
            <div class="col">
              <select [(ngModel)]="sib.feeling" (change)="onChangeLifePath()">
                <option value="hero worships you">Hero worships you</option>
                <option value="likes you">Likes you</option>
                <option value="dislikes you">Dislikes you</option>
                <option value="hates you">Hates you</option>
                <option value="neutral">Neutral</option>
              </select>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col text-center">
          <fa-icon [icon]="faPlus" class="csd-icon-btn csd-btn" (click)="addSibling()"></fa-icon>
        </div>
      </div>
    </div>
    <div class="col-12 col-lg-6 border border-dark">
      <div class="row">
        <div class="col pl-0 pr-0">
          <span class="chargen-label">Life Events</span> One event for each year after age 16
        </div>
      </div>
      <div class="row chargen-lifepath-events-table">
        <div class="col pr-0">
          <div class="row">
            <div class="col pl-0 pr-0">
              Year
            </div>
          </div>
          <div *ngFor="let event of lifepath.events" class="chargen-lifepath-event-row row border border-dark">
            <div class="col pl-0 pr-0">
              <input [(ngModel)]="event.age" type="number" min="0" max="150" style="width:9%;" class="align-top pt-3 pb-3" />
              <textarea [(ngModel)]="event.event" class="chargen-life-event" rows="3" maxlength="140" style="width:90%;"></textarea>
            </div>
          </div>
          <div class="row border border-dark">
            <div class="col text-center">
              <fa-icon [icon]="faPlus" class="csd-icon-btn csd-btn" (click)="addYear()"></fa-icon>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
